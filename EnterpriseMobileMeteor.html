<head>
  <title>Maikel's wijnkelder</title>
</head>

<body>
  {{> wijnapp}}
</body>

<template name="wijnapp">
  <h1>Maikel's wijnkelder</h1>
  
  <div class="search">
    <form id="search_form" class="form-search">
      <div class="input-append">
        <input type="text" class="span2 search-query" value="{{search_query}}"/>
        <button type="button" class="btn search">Zoeken</button>
      </div>
    </form>
  </div>
  
  {{#if wijnen}}
    <div class="wijnen">
      {{#each wijnen}}
        {{> wijn}}
      {{/each}}
    </div>
  {{/if}}
  
  {{#unless wijnen}}
    <div class="none">Geen wijnen gevonden</div>
  {{/unless}}
  
  {{#if selected_wijn}}
    {{> edit_wijn}}
  {{/if}}

  {{#unless selected_wijn}}
    <div class="none">Klik op een wijn om te selecteren</div>
  {{/unless}}  
</template>

<template name="edit_wijn">
  <div class="details">
    <form id="edit_wijn_form" class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="naam">Naam:</label>
        <div class="controls">
          <input id="naam" type="text" value="{{selected_wijn.naam}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="appellatie">Appellatie:</label>
        <div class="controls">
          <input id="appellatie" type="text" value="{{selected_wijn.appellatie}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="streek">Streek:</label>
        <div class="controls">
          <input id="streek" type="text" value="{{selected_wijn.streek}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="land">Land:</label>
        <div class="controls">
          <input id="land" type="text" value="{{selected_wijn.land}}"  autocomplete="off"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="druif">Druif:</label>
        <div class="controls">
          <input id="druif" type="text" value="{{selected_wijn.druif}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="kleur">Kleur:</label>
        <div class="controls">
          <select id="kleur" value="{{selected_wijn.kleur}}">
            <option value="wit" {{selected selected_wijn.kleur "wit"}}>Wit</option>
            <option value="rosé" {{selected selected_wijn.kleur "rosé"}}>Rosé</option>
            <option value="rood" {{selected selected_wijn.kleur "rood"}}>Rood</option>
          </select>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="soort">Soort:</label>
        <div class="controls">
          <input id="soort" type="text" value="{{selected_wijn.soort}}"/>
        </div>
      </div>
      <div class="control-group">
        <div class="controls">
          <button type="button" class="save btn btn-primary">Opslaan</button>
          <button type="button" class="cancel btn">Annuleren</button>
        </div>
      </div>
    </form>
  </div>
</template>

<template name="formField">
  <div class="control-group">
    <label class="control-label" for="{{this.id}}">{{this.label}}:</label>
    <div class="controls">
      {{this.formField}}
    </div>
  </div>
</template>


<template name="wijn">
  <div class="wijn {{selected}} {{kleur}}">
    <span class="naam">{{naam}}</span>
    <span class="land"><img src="img/b.gif" class="flag flag-{{landcode land}}" alt="{{land}}"/></span>
    <span class="druif">{{druif}}</span>
  </div>
</template>