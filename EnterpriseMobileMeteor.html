<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maikel's wijnkelder</title>
</head>

<body>
  {{> wijnapp}}
</body>

<template name="wijnapp">
  <div id="main" data-role="page">
    <div class="page-header">
      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
 
            <!-- Be sure to leave the brand out there if you want it shown -->
            <a class="brand" href="#"><i class="icon-glass"> </i>Maikel’s wijnkelder</a>
 
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
              {{ loginButtons }}
              <form class="navbar-search pull-right" id="search_form">
                <div class="input-append">
                  <input id="search-query" type="text" class="span2 search-kwerie" value="{{search_query}}" placeholder="Zoekterm" />
                  <button id="search-clear" class="btn" type="button"><i class="icon-remove-sign"></i></button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    {{#if wijnen}}
      <div class="wijnen" >
        <table class="table">
          <thead>
            <tr>
              <th>Naam</th>
              <th>Land</th>
              <th class="hidden-phone">Appellatie</th>
              <th class="hidden-phone hidden-tablet">Streek</th>
              <th class="hidden-phone">Druif</th>
              <th class="hidden-phone hidden-tablet">Soort</th>            
            </tr>
          </thead>
          <tbody>
            {{#each wijnen}}
              {{> wijn}}
            {{/each}}
          </tbody>
        </table>
      </div>
  {{/if}}
  
  {{#unless wijnen}}
    <div class="none">Geen wijnen gevonden</div>
  {{/unless}}
  </div>
  
  <div id="details" data-role="page">
    {{#if selected_wijn}}
      {{> edit_wijn}}
    {{/if}}

    {{#unless selected_wijn}}
      <div class="none">Klik op een wijn om te selecteren</div>
    {{/unless}}  
  </div>
</template>

<template name="wijn">
  <tr class="wijn {{selected}} {{kleur}}">
    <td>{{naam}}</td>
    <td><img src="img/b.gif" class="flag flag-{{landcode land}}" alt="{{land}}"/></td>
    <td class="hidden-phone">{{appellatie}}</td>
    <td class="hidden-phone hidden-tablet">{{streek}}</td>
    <td class="hidden-phone">{{druif}}</td>
    <td class="hidden-phone hidden-tablet">{{soort}}</td>
  </tr>
</template>

<template name="edit_wijn">
  <div class="details">
    <form id="edit_wijn_form" class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="naam">Naam:</label>
        <div class="controls">
          <input id="naam" type="text" value="{{selected_wijn.naam}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="appellatie">Appellatie:</label>
        <div class="controls">
          <input id="appellatie" type="text" value="{{selected_wijn.appellatie}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="streek">Streek:</label>
        <div class="controls">
          <input id="streek" type="text" value="{{selected_wijn.streek}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="land">Land:</label>
        <div class="controls">
          <input id="land" type="text" value="{{selected_wijn.land}}"  autocomplete="off"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="druif">Druif:</label>
        <div class="controls">
          <input id="druif" type="text" value="{{selected_wijn.druif}}"/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="kleur">Kleur:</label>
        <div class="controls">
          <select id="kleur" value="{{selected_wijn.kleur}}">
            <option value="wit" {{selected selected_wijn.kleur "wit"}}>Wit</option>
            <option value="rosé" {{selected selected_wijn.kleur "rosé"}}>Rosé</option>
            <option value="rood" {{selected selected_wijn.kleur "rood"}}>Rood</option>
          </select>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="soort">Soort:</label>
        <div class="controls">
          <input id="soort" type="text" value="{{selected_wijn.soort}}"/>
        </div>
      </div>
      <div class="control-group">
        <div class="controls">
          <button type="button" class="save btn btn-primary">Opslaan</button>
          <button type="button" class="cancel btn">Annuleren</button>
        </div>
      </div>
    </form>
  </div>
</template>

<template name="formField">
  <div class="control-group">
    <label class="control-label" for="{{this.id}}">{{this.label}}:</label>
    <div class="controls">
      {{this.formField}}
    </div>
  </div>
</template>


